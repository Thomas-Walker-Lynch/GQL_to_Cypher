#!/usr/bin/env bash

# Ensure the script is sourced
if [[ "${BASH_SOURCE[0]}" == "$0" ]]; then
  echo "This script must be sourced, not executed. Exiting."
  return 1
fi

# Check if REPO_HOME is set, if not source env_base
if [ -z "$REPO_HOME" ]; then
  script_path="$(dirname "$(realpath "${BASH_SOURCE[0]}")")"
  source "${script_path}/env_base"
fi

export DEVELOPER_HOME="$REPO_HOME/developer"

export JAVA_HOME="$REPO_HOME/tool/jdk-22.0.1+8"
export GRADLE_HOME="$REPO_HOME/tool/gradle-8.10-rc-1"
export ANTLR_JAR="$REPO_HOME/tool/executor/antlr-4.11.1-complete.jar"

export PATH=\
"$DEVELOPER_HOME"/executor\
:"$REPO_HOME"/tool/executor\
:"$JAVA_HOME"/bin\
:"$GRADLE_HOME"/bin\
:"$PATH"

export GRADLE_OPTS="--settings-file $REPO_HOME/settings.gradle"


cd "$DEVELOPER_HOME"

# This is helpful so that cut and paste from the makefile to the shell can be used for testing.
# When making use of this, the developer must resource env_build into the shell after modifications.
source "$DEVELOPER_HOME"/executor/env_build

echo "${BASH_SOURCE[0]}" "complete"

#  LocalWords:  gradle antlr jdk REPO
