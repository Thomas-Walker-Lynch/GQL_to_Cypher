#!/bin/bash

# Set the platform type: currently "Debian" or "Fedora"
PLATFORM="Fedora"

# Update package list and install Java based on platform type
if [ "$PLATFORM" == "Debian" ]; then
    sudo apt-get update
    sudo apt-get install -y default-jre
elif [ "$PLATFORM" == "Fedora" ]; then
    sudo dnf update -y
    sudo dnf install -y java-1.8.0-openjdk
else
    echo "Unsupported platform type: $PLATFORM"
    exit 1
fi

# Download ANTLR jar file and place it in the env directory
mkdir -p env
curl -o env/antlr-4.9.2-complete.jar https://www.antlr.org/download/antlr-4.9.2-complete.jar

# Set environment variables for ANTLR
export CLASSPATH=".:$(pwd)/env/antlr-4.9.2-complete.jar:$CLASSPATH"
export PATH="$PATH:$(pwd)/env"

echo "Installation complete. Java and ANTLR have been installed."
